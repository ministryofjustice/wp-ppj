(()=>{"use strict";var e={gtm:("; "+document.cookie).split("; ccfw_gtm_id=").pop().split(";").shift(),gtmID:document.getElementById("ccfw-page-banner").getAttribute("data-gtm-id"),canRun:function(e){return e.startsWith("GTM")||!1},allowedIds:[],selector:{all:{accept:"cookie-accept",decline:"cookie-decline"},moreInfo:"cookie-more-info",settings:"js-ccfw-settings-button",toggles:"ccfw-banner__toggle-slider"},storage:{time:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-time"))},set:function(){return window.localStorage.setItem("ccfw-time",JSON.stringify(new Date((new Date).setFullYear((new Date).getFullYear()+1)).getTime()))}},allowed:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-gtm-allowed"))},set:function(e){return window.localStorage.setItem("ccfw-gtm-allowed",JSON.stringify(e))}},bannerHidden:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-banner-hidden"))},set:function(e){return window.localStorage.setItem("ccfw-banner-hidden",JSON.stringify(e))}},clear:function(e){return window.localStorage.removeItem(e)}},listItem:{set:function(t){dataLayer[0]["gtm.allowlist"]=t,e.storage.allowed.set(t)},clear:function(e,t){dataLayer[0][e].forEach((function(e,a,r){e===t&&r.splice(a,1)}))}},trackEvent:function(e,t){t?dataLayer.push(jQuery.extend({},{event:e},t)):dataLayer.push({event:e})},jqTarget:function(e){return jQuery(e.target)},clearStorage:function(){var t=e.storage.time.get();(new Date).getTime()>t&&(e.storage.clear("ccfw-gtm-allowed"),e.storage.clear("ccfw-banner-hidden"),e.storage.clear("ccfw-time"))},toggleAll:function(t){var a=e.storage.allowed.get()||[];return t&&(a=[]),jQuery("."+e.selector.toggles).each((function(e,r){var n=jQuery(r).data("allowlist");t?(jQuery(r).attr("aria-checked",!1),jQuery("#ccfw-"+n+"-toggle-off").removeAttr("aria-hidden").show(),jQuery("#ccfw-"+n+"-toggle-on").attr("aria-hidden","true").hide()):(-1===a.indexOf(n)&&a.push(n),jQuery(r).attr("aria-checked",!0),jQuery("#ccfw-"+n+"-toggle-on").removeAttr("aria-hidden").show(),jQuery("#ccfw-"+n+"-toggle-off").attr("aria-hidden","true").hide())})),a},manageAll:function(t,a,r){if(t){var n=jQuery("."+e.selector.toggles).length-1;return"all"!==a&&(r&&(t=t.filter((function(e){return"all"!==e})),jQuery("#ccfw-all-toggle-off").removeAttr("aria-hidden").show(),jQuery("#ccfw-all-toggle-on").attr("aria-hidden","true").hide(),0===t.length&&jQuery('button[data-allowlist="all"]').attr("aria-checked",!1)),t.length>0&&jQuery('button[data-allowlist="all"]').attr("aria-checked",!0),n===t.length&&(-1===t.indexOf("all")&&t.push("all"),jQuery("#ccfw-all-toggle-on").removeAttr("aria-hidden").show(),jQuery("#ccfw-all-toggle-off").attr("aria-hidden","true").hide(),jQuery('button[data-allowlist="all"]').attr("aria-checked",!0))),t}}},t=function(t){t.preventDefault();var a=jQuery(this),r=a.data("allowlist"),n=e.storage.allowed.get()||[],l="true"===a.attr("aria-checked");return a.attr("aria-checked",!l),"all"===r&&(n=e.toggleAll(l)),l?(n=n.filter((function(e){return e!==r})),jQuery("#ccfw-"+r+"-toggle-off").removeAttr("aria-hidden").show(),jQuery("#ccfw-"+r+"-toggle-on").attr("aria-hidden","true").hide()):(-1===n.indexOf(r)&&n.push(r),jQuery("#ccfw-"+r+"-toggle-on").removeAttr("aria-hidden").show(),jQuery("#ccfw-"+r+"-toggle-off").attr("aria-hidden","true").hide()),n=e.manageAll(n,r,l),e.listItem.set(n),!1},a=function(){if(e.canRun(e.gtmID)){window.dataLayer=[];var t=e.storage.allowed.get()||[];return t=t.concat(["evl","cl","fsl","hl","jel","lcl","sdl","tl","ytl"],["k","v","c","ctv","e","jsm","dpg","d","vis","gas","f","j","smm","r","remm","u"]),window.dataLayer=[{"gtm.allowlist":t}],function(e,t,a,r,n){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var l=t.getElementsByTagName(a)[0],o=t.createElement(a);o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id="+n,l.parentNode.insertBefore(o,l)}(window,document,"script","dataLayer",e.gtmID),!0}return console.warn("CCFW GTM:","The GTM ID wasn't assigned or, does not exist."),!1}();jQuery((function(r){a&&(r(".ccfw-banner__toggle-slider").each((function(t,a){e.allowedIds.push(r(a).data("allowlist"))})),r("."+e.selector.toggles).on("click",t),e.clearStorage())}))})();